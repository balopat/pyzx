INFO[0000] Skaffold &{Version:v0.28.0 ConfigVersion:skaffold/v1beta9 GitVersion: GitCommit:2b6143bb6d185de9b9fbf2eaa981c8e7acff7339 GitTreeState:clean BuildDate:2019-04-26T18:31:06Z GoVersion:go1.11.9 Compiler:gc Platform:linux/amd64}
INFO[0000] applying profile: dyversify
DEBU[0000] overlaying profile on config for field BuildConfig
DEBU[0000] overlaying profile on config for field
DEBU[0000] overlaying profile on config for field
DEBU[0000] overlaying profile on config for field TagPolicy
INFO[0000] no values found in profile for field TagPolicy, using original config values
DEBU[0000] overlaying profile on config for field BuildType
INFO[0000] no values found in profile for field BuildType, using original config values
DEBU[0000] overlaying profile on config for field DeployConfig
DEBU[0000] overlaying profile on config for field DeployType
INFO[0000] no values found in profile for field DeployType, using original config values
DEBU[0000] overlaying profile on config for field
DEBU[0000] Defaulting build type to local build
DEBU[0000] validating yamltags of struct SkaffoldConfig
DEBU[0000] validating yamltags of struct Pipeline
DEBU[0000] validating yamltags of struct BuildConfig
DEBU[0000] validating yamltags of struct Artifact
DEBU[0000] validating yamltags of struct ArtifactType
DEBU[0000] validating yamltags of struct JibMavenArtifact
DEBU[0000] validating yamltags of struct TagPolicy
DEBU[0000] validating yamltags of struct GitTagger
DEBU[0000] validating yamltags of struct BuildType
DEBU[0000] validating yamltags of struct LocalBuild
DEBU[0000] validating yamltags of struct DeployConfig
DEBU[0000] validating yamltags of struct DeployType
DEBU[0000] validating yamltags of struct HelmDeploy
DEBU[0000] validating yamltags of struct HelmRelease
DEBU[0000] validating yamltags of struct HelmOverrides
DEBU[0000] validating yamltags of struct HelmImageStrategy
DEBU[0000] validating yamltags of struct HelmImageConfig
DEBU[0000] validating yamltags of struct HelmConventionConfig
DEBU[0000] validating yamltags of struct HelmDeployFlags
INFO[0000] no config entry found for kube-context dyversify
INFO[0000] Using kubectl context: dyversify
INFO[0000] no config entry found for kube-context dyversify
INFO[0000] no config entry found for kube-context dyversify
DEBU[0000] Using builder: local
DEBU[0000] setting Docker user agent to skaffold-v0.28.0
INFO[0000] no config entry found for kube-context dyversify
DEBU[0000] push value not present, defaulting to true because localCluster is false
INFO[0000] starting gRPC server on port 50051
INFO[0000] starting gRPC HTTP server on port 50052
DEBU[0000] Running command: [mvn --non-recursive jib:_skaffold-files-v2 --quiet]
DEBU[0002] Command output: [
BEGIN JIB JSON
{"build":["/home/jveessen/ibcndevs/dyversify/dummy-producer/pom.xml"],"inputs":["/home/jveessen/ibcndevs/dyversify/dummy-producer/src/main/java","/home/jveessen/ibcndevs/dyversify/dummy-producer/src/main/resources","/home/jveessen/ibcndevs/dyversify/dummy-producer/src/main/jib"],"ignore":[]}
]
DEBU[0002] could not stat dependency: stat /home/jveessen/ibcndevs/dyversify/dummy-producer/src/main/jib: no such file or directory
DEBU[0002] Found dependencies for jibMaven artifact: [pom.xml src/main/java/technology/idlab/iot/dyversify/main/Main.java src/main/java/technology/idlab/iot/dyversify/main/ProducerVerticle.java src/main/java/technology/idlab/iot/dyversify/main/ServiceProperty.java]
Generating tags...
 - registry/dummy-producer -> DEBU[0002] Running command: [git describe --tags --always]
DEBU[0002] Command output: [0.1.0
]
DEBU[0002] Running command: [git status . --porcelain]
DEBU[0002] Command output: []
registry/dummy-producer:0.1.0
Tags generated in 3.632936ms
Starting build...
Building [registry/dummy-producer]...
INFO[0002] Building .: /home/jveessen/.sdkman/candidates/maven/current/bin/mvn, [mvn -Djib.console=plain --non-recursive prepare-package jib:build -Dimage=registry/dummy-producer:0.1.0]
DEBU[0002] Running command: [mvn -Djib.console=plain --non-recursive prepare-package jib:build -Dimage=registry/dummy-producer:0.1.0]
[INFO] Scanning for projects...
[INFO]
[INFO] -----------< technology.idlab-iot.dyversify:dummy-producer >------------
[INFO] Building dummy-producer 1.0-SNAPSHOT
[INFO] --------------------------------[ jar ]---------------------------------
[INFO]
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ dummy-producer ---
[WARNING] Using platform encoding (UTF-8 actually) to copy filtered resources, i.e. build is platform dependent!
[INFO] Copying 0 resource
[INFO]
[INFO] --- maven-compiler-plugin:3.8.0:compile (default-compile) @ dummy-producer ---
[INFO] Nothing to compile - all classes are up to date
[INFO]
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ dummy-producer ---
[WARNING] Using platform encoding (UTF-8 actually) to copy filtered resources, i.e. build is platform dependent!
[INFO] skip non existing resourceDirectory /home/jveessen/ibcndevs/dyversify/dummy-producer/src/test/resources
[INFO]
[INFO] --- maven-compiler-plugin:3.8.0:testCompile (default-testCompile) @ dummy-producer ---
[INFO] Nothing to compile - all classes are up to date
[INFO]
[INFO] --- maven-surefire-plugin:2.12.4:test (default-test) @ dummy-producer ---
[INFO] No tests to run.
[INFO]
[INFO] --- jib-maven-plugin:1.1.2:build (default-cli) @ dummy-producer ---
[WARNING] Setting image creation time to current time; your image may not be reproducible.
[INFO]
[INFO] Containerizing application to registry/dummy-producer:0.1.0...
[INFO] Retrieving registry credentials for gitlab.ilabt.imec.be:4567...
[INFO] Getting base image gcr.io/distroless/java:11...
[INFO] Building dependencies layer...
[INFO] Building resources layer...
[INFO] Building classes layer...
[INFO]
[INFO] Container entrypoint set to [java, -cp, /app/resources:/app/classes:/app/libs/*, technology.idlab.iot.dyversify.main.Main]
[INFO]
[INFO] Built and pushed image as registry/dummy-producer:0.1.0
[INFO]
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  4.280 s
[INFO] Finished at: 2019-05-08T10:08:42+02:00
[INFO] ------------------------------------------------------------------------
Build complete in 5.80963156s
Starting test...
Test complete in 12.076Âµs
Starting deploy...
DEBU[0007] Executing template &{envTemplate 0xc000550100 0xc0005ba180  } with environment map[DBUS_SESSION_BUS_ADDRESS:unix:path=/run/user/1000/bus XDG_GREETER_DATA_DIR:/var/lib/lightdm-data/jveessen PAGER:less NVM_BIN:/home/jveessen/.nvm/versions/node/v8.0.0/bin XDG_SESSION_CLASS:user ZDOTDIR: XDG_SESSION_TYPE:x11 LESS:-R MAIL:/var/spool/mail/jveessen XDG_RUNTIME_DIR:/run/user/1000 SDKMAN_CANDIDATES_API:https://api.sdkman.io/2 SHELL:/usr/bin/zsh QT_QPA_PLATFORMTHEME:qt5ct SHLVL:2 MAVEN_HOME:/home/jveessen/.sdkman/candidates/maven/current NVM_DIR:/home/jveessen/.nvm XDG_SESSION_DESKTOP:i3 XDG_SEAT_PATH:/org/freedesktop/DisplayManager/Seat0 LS_COLORS:rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36: TERMINAL_EMULATOR:JetBrains-JediTerm LANG:en_US.UTF-8 SDKMAN_VERSION:5.7.3+337 HOME:/home/jveessen GDMSESSION:i3 DESKTOP_STARTUP_ID:i3/rofi/813-4-manjaro_TIME2255329 ZSH:/home/jveessen/.oh-my-zsh _:/usr/local/bin/skaffold BROWSER:/usr/bin/chromium SDKMAN_DIR:/home/jveessen/.sdkman XDG_SESSION_PATH:/org/freedesktop/DisplayManager/Session0 USER:jveessen SDKMAN_CANDIDATES_DIR:/home/jveessen/.sdkman/candidates SDKMAN_PLATFORM:Linux64 JAVA_HOME:/home/jveessen/.sdkman/candidates/java/current XDG_SEAT:seat0 DESKTOP_SESSION:i3 PATH:/home/jveessen/.nvm/versions/node/v8.0.0/bin:/home/jveessen/.sdkman/candidates/maven/current/bin:/home/jveessen/.sdkman/candidates/java/current/bin:/home/jveessen/.local/bin:/home/jveessen/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/sbin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl:/var/lib/snapd/snap/bin:/home/jveessen/.antigen/bundles/robbyrussell/oh-my-zsh/lib:/home/jveessen/.antigen/bundles/robbyrussell/oh-my-zsh/plugins/git:/home/jveessen/.antigen/bundles/robbyrussell/oh-my-zsh/plugins/command-not-found DISPLAY::0 GTK2_RC_FILES:/home/jveessen/.gtkrc-2.0 EDITOR:/usr/bin/vim XDG_VTNR:7 LC_CTYPE:en_US.UTF-8 XAUTHORITY:/home/jveessen/.Xauthority PWD:/home/jveessen/ibcndevs/dyversify/dummy-producer LSCOLORS:Gxfxcxdxbxegedabagacad GTK_MODULES:canberra-gtk-module MOZ_PLUGIN_PATH:/usr/lib/mozilla/plugins XDG_DATA_DIRS:/usr/local/share:/usr/share:/var/lib/snapd/desktop XDG_SESSION_ID:c2 XDG_CURRENT_DESKTOP:i3 NVM_CD_FLAGS:-q TERM:xterm-256color OLDPWD:/home/jveessen/ibcndevs/dyversify/dummy-producer __INTELLIJ_COMMAND_HISTFILE__:/home/jveessen/.IntelliJIdea2019.1/config/terminal/history/history-56 LOGNAME:jveessen]
DEBU[0007] Running command: [helm --kube-context dyversify get skaffold-dummy-producer]
REVISION: 1
RELEASED: Tue May  7 10:17:48 2019
CHART: dummy-producer-0.1.0
USER-SUPPLIED VALUES:
image:
  repository: registry/dummy-producer
  tag: 34199bc-dirty
kafka:
  bootstrapServer: gangly-tarsier-kafka-headless.kafka.svc.cluster.local:9092
  topic: playground

COMPUTED VALUES:
fullnameOverride: ""
image:
  pullPolicy: Always
  repository: registry/dummy-producer
  tag: 34199bc-dirty
imagePullSecret: dummy-producer-registry
kafka:
  bootstrapServer: gangly-tarsier-kafka-headless.kafka.svc.cluster.local:9092
  consumerGroup: ""
  topic: playground
nameOverride: ""
replicaCount: 1
service:
  port: 80
  type: ClusterIP
serviceAccount: kubernetes-auto-scaler

HOOKS:
MANIFEST:

---
# Source: dummy-producer/templates/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: skaffold-dummy-producer
  labels:
    app.kubernetes.io/name: dummy-producer
    helm.sh/chart: dummy-producer-0.1.0
    app.kubernetes.io/instance: skaffold-dummy-producer
    app.kubernetes.io/managed-by: Tiller
spec:
  type: ClusterIP
  ports:
    - port: 80
      targetPort: http
      protocol: TCP
      name: http
  selector:
    app.kubernetes.io/name: dummy-producer
    app.kubernetes.io/instance: skaffold-dummy-producer
---
# Source: dummy-producer/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: skaffold-dummy-producer
  labels:
    app.kubernetes.io/name: dummy-producer
    helm.sh/chart: dummy-producer-0.1.0
    app.kubernetes.io/instance: skaffold-dummy-producer
    app.kubernetes.io/managed-by: Tiller
spec:
  replicas: 1
  selector:
    matchLabels:
      app.kubernetes.io/name: dummy-producer
      app.kubernetes.io/instance: skaffold-dummy-producer
  template:
    metadata:
      labels:
        app.kubernetes.io/name: dummy-producer
        app.kubernetes.io/instance: skaffold-dummy-producer
    spec:
      imagePullSecrets:
        - name: dummy-producer-registry
      containers:
        - name: dummy-producer
          image: "registry/dummy-producer:34199bc-dirty"
          imagePullPolicy: Always
          env:
            - name: KAFKA_BOOTSTRAP_SERVERS
              value: "gangly-tarsier-kafka-headless.kafka.svc.cluster.local:9092"
            - name: KAFKA_ALERTS_TOPIC
              value: "playground"
            - name: KAFKA_CONSUMER_GROUP
              value: ""
          ports:
            - name: http
              containerPort: 80
              protocol: TCP
INFO[0008] Building helm dependencies...
DEBU[0008] Running command: [helm --kube-context dyversify dep build helm/dummy-producer]
No requirements found in helm/dummy-producer/charts.
DEBU[0008] Running command: [helm --kube-context dyversify upgrade skaffold-dummy-producer --force --recreate-pods helm/dummy-producer --namespace default -f helm/dyversify-values.yaml --set image.repository=registry/dummy-producer,image.tag=0.1.0]
Release "skaffold-dummy-producer" has been upgraded. Happy Helming!
LAST DEPLOYED: Wed May  8 10:06:53 2019
NAMESPACE: default
STATUS: DEPLOYED

RESOURCES:
==> v1/Deployment
NAME                     READY  UP-TO-DATE  AVAILABLE  AGE
skaffold-dummy-producer  0/1    1           0          0s

==> v1/Pod(related)
NAME                                      READY  STATUS             RESTARTS  AGE
skaffold-dummy-producer-6cd67f86b7-ztx2c  0/1    ContainerCreating  0         0s

==> v1/Service
NAME                     TYPE       CLUSTER-IP     EXTERNAL-IP  PORT(S)  AGE
skaffold-dummy-producer  ClusterIP  10.108.206.29  <none>       80/TCP   0s


DEBU[0011] Running command: [helm --kube-context dyversify get skaffold-dummy-producer]
INFO[0012] error decoding parsed yaml: Object 'Kind' is missing in 'REVISION: 2
RELEASED: Wed May  8 10:06:53 2019
CHART: dummy-producer-0.1.0
USER-SUPPLIED VALUES:
image:
  repository: registry/dummy-producer
  tag: 0.1.0
kafka:
  bootstrapServer: gangly-tarsier-kafka-headless.kafka.svc.cluster.local:9092
  topic: playground

COMPUTED VALUES:
fullnameOverride: ""
image:
  pullPolicy: Always
  repository: registry/dummy-producer
  tag: 0.1.0
imagePullSecret: dummy-producer-registry
kafka:
  bootstrapServer: gangly-tarsier-kafka-headless.kafka.svc.cluster.local:9092
  consumerGroup: ""
  topic: playground
nameOverride: ""
replicaCount: 1
service:
  port: 80
  type: ClusterIP
serviceAccount: kubernetes-auto-scaler

HOOKS:
MANIFEST:

'
DEBU[0012] Labels are not applied to service [skaffold-dummy-producer] because of issue: https://github.com/GoogleContainerTools/skaffold/issues/887
DEBU[0012] Patching skaffold-dummy-producer in namespace default
Deploy complete in 4.333550398s
Watching for changes every 1s...
DEBU[0013] could not stat dependency: stat /home/jveessen/ibcndevs/dyversify/dummy-producer/src/main/jib: no such file or directory
DEBU[0013] Found dependencies for jibMaven artifact: [pom.xml src/main/java/technology/idlab/iot/dyversify/main/Main.java src/main/java/technology/idlab/iot/dyversify/main/ProducerVerticle.java src/main/java/technology/idlab/iot/dyversify/main/ServiceProperty.java]
DEBU[0014] could not stat dependency: stat /home/jveessen/ibcndevs/dyversify/dummy-producer/src/main/jib: no such file or directory
DEBU[0014] Found dependencies for jibMaven artifact: [pom.xml src/main/java/technology/idlab/iot/dyversify/main/Main.java src/main/java/technology/idlab/iot/dyversify/main/ProducerVerticle.java src/main/java/technology/idlab/iot/dyversify/main/ServiceProperty.java]
DEBU[0015] could not stat dependency: stat /home/jveessen/ibcndevs/dyversify/dummy-producer/src/main/jib: no such file or directory
DEBU[0015] Found dependencies for jibMaven artifact: [pom.xml src/main/java/technology/idlab/iot/dyversify/main/Main.java src/main/java/technology/idlab/iot/dyversify/main/ProducerVerticle.java src/main/java/technology/idlab/iot/dyversify/main/ServiceProperty.java]
DEBU[0016] could not stat dependency: stat /home/jveessen/ibcndevs/dyversify/dummy-producer/src/main/jib: no such file or directory
DEBU[0016] Found dependencies for jibMaven artifact: [pom.xml src/main/java/technology/idlab/iot/dyversify/main/Main.java src/main/java/technology/idlab/iot/dyversify/main/ProducerVerticle.java src/main/java/technology/idlab/iot/dyversify/main/ServiceProperty.java] 